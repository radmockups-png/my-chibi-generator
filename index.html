<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>My Chibi Prompt Generator</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root{--bg:#14081f;--panel:#1c0f2a;--ink:#f4eaff;--muted:#c9a7f5;--accent:#a78bfa}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:linear-gradient(180deg,#10061a,#14081f 60%);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink)}
.wrap{max-width:1100px;margin:32px auto;padding:0 16px}
header{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
h1{font-size:28px;margin:0} small.muted{color:var(--muted)}
.card{background:var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:16px;margin-bottom:16px}
.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
.col-12{grid-column:span 12}.col-6{grid-column:span 6}.col-4{grid-column:span 4}.col-3{grid-column:span 3}
@media (max-width:900px){.col-6,.col-4,.col-3{grid-column:span 12}}
label{display:block;font-size:12px;color:var(--muted);margin:4px 0 6px}
input[type="text"],select,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid #2b2342;background:#0e0a17;color:var(--ink)}
textarea{min-height:100px;resize:vertical}
.row{display:flex;gap:8px;flex-wrap:wrap}
.btn{appearance:none;border:0;padding:12px 14px;border-radius:10px;font-weight:700;color:#fff;cursor:pointer}
.primary{background:#7c3aed}
.generate{background:linear-gradient(90deg,#7c3aed,#db2777)}
.preset{background:#a78bfa;color:#190d2a}
.download{background:#10b981}
.ghost{background:transparent;border:1px dashed #453264;color:var(--muted)}
.promptBox{background:#0e0a17;border:1px solid #2b2342;border-radius:12px;padding:12px;white-space:pre-wrap;min-height:80px}
.pill{padding:8px 10px;border-radius:999px;background:#2a1c3d;color:#d9c6ff;font-size:12px}
.note{color:#c9a7f5;font-size:12px}
.badge{font-size:11px;padding:3px 8px;border-radius:999px;border:1px solid #3a2852;color:var(--muted)}
.presetsbar{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0 4px}

/* Login overlay */
#gate{position:fixed;inset:0;display:grid;place-items:center;background:rgba(10,5,18,.92);backdrop-filter:blur(4px);z-index:10}
.gate-card{width:min(420px,92vw);background:var(--panel);padding:24px;border-radius:14px;border:1px solid #2b2342;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.gate-card h2{margin:0 0 4px;color:#a78bfa}
.err{color:#ff7b7b;min-height:18px;margin-top:8px;font-size:13px}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="gate">
  <div class="gate-card">
    <h2>üîí Login</h2>
    <p style="color:#c9a7f5;font-size:12px;margin:6px 0 10px">Enter credentials to unlock the generator.</p>
    <label>Username</label>
    <input id="gUser" type="text" autocomplete="username" placeholder="e.g., admin">
    <label>Password</label>
    <input id="gPass" type="password" autocomplete="current-password" placeholder="Your password">
    <div style="display:flex;align-items:center;gap:8px;margin-top:8px">
      <input id="remember" type="checkbox" style="width:auto"><label for="remember" style="color:#c9a7f5;font-size:12px">Remember for 12 hours</label>
    </div>
    <button class="btn primary" style="width:100%;margin-top:12px" id="gateBtn">Unlock</button>
    <div id="gateErr" class="err"></div>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <div class="wrap">
    <header>
      <div>
        <h1>Chibi Prompt Generator</h1>
        <small class="muted">Pick options (leave blanks), or hit <b>üé≤ Surprise Me</b> for a random paragraph in your style.</small>
      </div>
      <div class="row">
        <button id="presetMale" class="btn preset">‚≠ê Zeke Trouble (Male)</button>
        <button id="presetFemale" class="btn preset">‚≠ê Honey (Female)</button>
        <button id="logout" class="btn ghost" title="Clear session">Logout</button>
      </div>
    </header>

    <!-- Extras -->
    <div class="card">
      <div class="grid">
        <div class="col-12">
          <label>Extra Prompt Text (optional)</label>
          <input id="extra" type="text" placeholder="e.g., Halloween theme, cyberpunk poster, graffiti vibe" />
        </div>
        <div class="col-12">
          <label>Negative Prompt (optional)</label>
          <input id="negative" type="text" placeholder="e.g., blurry, watermark, extra fingers, low-res, text, logo" />
        </div>
      </div>
    </div>

    <!-- Controls -->
    <div class="card">
      <div class="grid">
        <div class="col-6">
          <label>Character Type</label>
          <select id="charType">
            <option>Male Chibi</option><option>Female Chibi</option><option>Nonbinary Chibi</option>
          </select>
        </div>
        <div class="col-6">
          <label>Style</label>
          <input id="style" type="text" value="Chibi" />
        </div>

        <div class="col-6">
          <label>Age (optional)</label>
          <select id="age">
            <option value="">‚Äî optional ‚Äî</option>
            <option>child</option><option>teen</option><option>young adult</option><option>adult</option><option>older adult</option>
          </select>
        </div>
        <div class="col-6">
          <label>Skin tone (optional)</label>
          <select id="skin">
            <option value="">‚Äî optional ‚Äî</option>
            <option>fair</option><option>light</option><option>medium</option><option>olive</option><option>tan</option><option>brown</option><option>dark</option>
          </select>
        </div>

        <div class="col-6">
          <label>Hair (optional)</label>
          <select id="hair">
            <option value="">‚Äî optional ‚Äî</option>
            <option>intricately styled twists/locs</option><option>wavy bob</option><option>spiky anime hair</option>
            <option>long straight with blunt bangs</option><option>curly shoulder-length</option><option>high fade</option>
            <option>space buns</option><option>undercut</option><option>braided crown</option><option>short buzz cut</option>
          </select>
        </div>

        <div class="col-6">
          <label>Outfit (optional)</label>
          <select id="outfit">
            <option value="">‚Äî optional ‚Äî</option>
            <option>sleek tracksuit</option><option>oversized tee with cargo pants</option><option>hoodie and joggers</option>
            <option>school uniform</option><option>cyberpunk jacket with neon accents</option><option>kimono-inspired outfit</option>
            <option>idol stage costume</option><option>cozy sweater with pleated skirt</option><option>light fantasy armor</option>
          </select>
        </div>

        <div class="col-6">
          <label>Shoes (optional)</label>
          <select id="shoes">
            <option value="">‚Äî optional ‚Äî</option>
            <option>vibrant high-top sneakers</option><option>Jordan 4</option><option>combat boots</option>
            <option>platform sneakers</option><option>lace-up boots</option><option>skate shoes</option>
          </select>
        </div>

        <div class="col-6">
          <label>Expression (optional)</label>
          <select id="expression">
            <option value="">‚Äî optional ‚Äî</option>
            <option>self-assured smirk</option><option>big confident grin</option><option>calm determined look</option><option>playful wink</option><option>focused stare</option>
          </select>
        </div>

        <div class="col-6">
          <label>Pose (optional)</label>
          <select id="pose">
            <option value="">‚Äî optional ‚Äî</option>
            <option>hands casually in pockets</option><option>cross-armed, confident</option><option>peace sign</option>
            <option>one hand on hip, playful</option><option>dynamic mid-jump</option><option>shy hands together</option>
          </select>
        </div>

        <div class="col-6">
          <label>Background (optional)</label>
          <select id="bg">
            <option value="">‚Äî optional ‚Äî</option>
            <option>vibrant neon colors</option><option>glowing city alley</option><option>clean studio gradient</option>
            <option>rainy street reflections</option><option>arcade room lights</option><option>cherry blossom petals in the air</option>
          </select>
        </div>

        <div class="col-6">
          <label>Lighting (optional)</label>
          <select id="light">
            <option value="">‚Äî optional ‚Äî</option>
            <option>dramatic rim lighting</option><option>soft studio lighting</option><option>warm sunset glow</option><option>cool ambient moonlight</option><option>neon edge glow</option>
          </select>
        </div>

        <div class="col-6">
          <label>Camera Angle (optional)</label>
          <select id="camera">
            <option value="">‚Äî optional ‚Äî</option>
            <option>slightly below eye level</option><option>eye-level portrait</option><option>three-quarter view</option><option>centered composition</option><option>subtle low-angle hero shot</option>
          </select>
        </div>

        <div class="col-6">
          <label>Mood (optional)</label>
          <select id="mood">
            <option value="">‚Äî optional ‚Äî</option>
            <option>relaxed yet heroic</option><option>cool and collected</option><option>energetic and cheerful</option><option>mischievous and bold</option><option>calm and radiant</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Actions -->
    <div class="card">
      <div class="row">
        <button id="generate" class="btn generate">‚ö° Generate Prompt</button>
        <button id="surpriseBtn" class="btn ghost">üé≤ Surprise Me</button>
        <button id="copy" class="btn primary">üìã Copy</button>
        <button id="download" class="btn download">‚¨áÔ∏è Download .txt</button>
        <button id="share" class="btn ghost">üîó Share link</button>
        <span class="pill" id="status"></span>
      </div>
      <div style="height:10px"></div>
      <div id="prompt" class="promptBox"></div>
      <div style="height:6px"></div>
      <div class="note">Tip: <b>Share link</b> copies a URL that re-loads your current choices. Autosaves locally too.</div>
    </div>
  </div>
</div>

<script>
/* ======= LOGIN (simple; front-end only) ======= */
/* Change these: */
const VALID_USER = "user";     // username
const VALID_PASS = "radgenerator2.0";      // password
const REMEMBER_HOURS = 12;
const KEY_UNTIL = "gate_ok_until";

const $ = id => document.getElementById(id);
function openApp(){ $("gate").style.display="none"; $("app").style.display="block"; }
(function bootGate(){ const until = +localStorage.getItem(KEY_UNTIL) || 0; if(Date.now() < until) openApp(); })();
$("gateBtn").addEventListener("click", ()=>{
  const u = $("gUser").value.trim(); const p = $("gPass").value;
  if(u===VALID_USER && p===VALID_PASS){
    if($("remember").checked){ localStorage.setItem(KEY_UNTIL, String(Date.now()+REMEMBER_HOURS*60*60*1000)); }
    openApp();
  } else $("gateErr").textContent="Invalid username or password.";
});
$("logout").addEventListener("click", ()=>{ localStorage.removeItem(KEY_UNTIL); location.reload(); });

/* ======= GENERATOR CORE ======= */
const fields = ["extra","negative","charType","style","age","skin","hair","outfit","shoes","expression","pose","bg","light","camera","mood"];
function val(id){ return ($(id).value||"").trim(); }
function add(part, arr){ if(part && part.trim()) arr.push(part.trim()); }

function saveState(){ const data={}; for(const k of fields) data[k]=val(k); localStorage.setItem("chibi_state", JSON.stringify(data)); }
function loadState(){ try{ const s=localStorage.getItem("chibi_state"); if(!s) return; const o=JSON.parse(s); for(const k of fields){ if(o[k]!=null) $(k).value=o[k]; } }catch(e){} }
for(const k of fields){ $(k).addEventListener("input",saveState); $(k).addEventListener("change",saveState); }

/* Presets (Zeke & Honey) */
function setVals(o){ for(const k of fields){ if(o[k]!=null) $(k).value=o[k]; } saveState(); }
$("presetMale").addEventListener("click", ()=> setVals({
  charType:"Male Chibi", style:"Chibi", age:"young adult", skin:"light",
  hair:"intricately styled twists/locs", outfit:"sleek tracksuit", shoes:"vibrant high-top sneakers",
  expression:"self-assured smirk", pose:"hands casually in pockets",
  camera:"slightly below eye level", mood:"relaxed yet heroic",
  light:"dramatic rim lighting", bg:"vibrant neon colors",
  extra:"flat cell shading, bold outlines, crisp composition, print-ready PNG",
  negative:"blurry, watermark, extra fingers, low-res, text, logos"
}));
$("presetFemale").addEventListener("click", ()=> setVals({
  charType:"Female Chibi", style:"Chibi", age:"young adult", skin:"fair",
  hair:"space buns", outfit:"idol stage costume", shoes:"platform sneakers",
  expression:"big confident grin", pose:"peace sign",
  camera:"eye-level portrait", mood:"energetic and cheerful",
  light:"soft studio lighting", bg:"clean studio gradient",
  extra:"kawaii stickers, soft bloom, clean lineart", negative:"blurry, text, watermark"
}));

/* Build paragraph in your style */
function buildStylizedParagraph(d){
  const line1 = `A dynamic and stylized illustration depicting a confident chibi ${ (d.charType||"Male Chibi").toLowerCase() } character in a modern urban setting.`;
  const line2 = `The ${d.age||"young adult"}, with ${(d.skin||"light")} skin and ${(d.hair||"intricately styled twists/locs")}, sports a ${(d.outfit||"sleek tracksuit")} and ${(d.shoes||"vibrant high-top sneakers")}, punctuated by a ${(d.expression||"self-assured smirk")}.`;
  const line3 = `Positioned ${(d.camera||"slightly below eye level")} with ${(d.pose||"hands casually in pockets")}, they exude a ${(d.mood||"relaxed yet heroic")} aura, accentuated by ${(d.light||"dramatic rim lighting")} and a backdrop of ${(d.bg||"vibrant neon colors")}.`;
  const line4 = `The clean studio gradient backdrop, complete with ${(d.extra||"flat cell shading, bold outlines, and crisp composition")}, renders a print-ready PNG image, free of any distracting text or logos.`;
  const neg   = d.negative ? ` Negative prompt: ${d.negative}.` : "";
  return [line1,line2,line3,line4].join(" ") + neg;
}

function currentData(){
  const o={}; for(const k of fields) o[k]=val(k); return o;
}

function generate(){
  const d = currentData();
  const paragraph = buildStylizedParagraph(d);
  $("prompt").textContent = paragraph;
  $("status").textContent = "Prompt updated";
  setTimeout(()=> $("status").textContent="", 1200);
}

/* Surprise Me (random) */
const R = {
  charType:["Male Chibi","Female Chibi","Nonbinary Chibi"],
  age:["teen","young adult","adult"],
  skin:["fair","light","medium","olive","tan","brown","dark"],
  hair:["intricately styled twists/locs","wavy bob","spiky anime hair","long straight with blunt bangs","curly shoulder-length","high fade","space buns","undercut","braided crown","short buzz cut"],
  outfit:["sleek tracksuit","oversized tee with cargo pants","hoodie and joggers","school uniform","cyberpunk jacket with neon accents","kimono-inspired outfit","idol stage costume","cozy sweater with pleated skirt","light fantasy armor"],
  shoes:["vibrant high-top sneakers","Jordan 4","combat boots","platform sneakers","lace-up boots","skate shoes"],
  expression:["self-assured smirk","big confident grin","calm determined look","playful wink","focused stare"],
  pose:["hands casually in pockets","cross-armed, confident","peace sign","one hand on hip, playful","dynamic mid-jump","shy hands together"],
  bg:["vibrant neon colors","glowing city alley","clean studio gradient","rainy street reflections","arcade room lights","cherry blossom petals in the air"],
  light:["dramatic rim lighting","soft studio lighting","warm sunset glow","cool ambient moonlight","neon edge glow"],
  camera:["slightly below eye level","eye-level portrait","three-quarter view","centered composition","subtle low-angle hero shot"],
  mood:["relaxed yet heroic","cool and collected","energetic and cheerful","mischievous and bold","calm and radiant"]
};
const pick = a => a[Math.floor(Math.random()*a.length)];
function surprise(){
  const o={
    charType:pick(R.charType), age:pick(R.age), skin:pick(R.skin),
    hair:pick(R.hair), outfit:pick(R.outfit), shoes:pick(R.shoes),
    expression:pick(R.expression), pose:pick(R.pose),
    bg:pick(R.bg), light:pick(R.light), camera:pick(R.camera), mood:pick(R.mood),
    style:"Chibi",
    extra:"flat cell shading, bold outlines, crisp composition",
    negative:"blurry, watermark, extra fingers, low-res, text, logos"
  };
  setVals(o);  // fill UI + save
  $("prompt").textContent = buildStylizedParagraph(o);
  $("status").textContent = "Random prompt generated";
  setTimeout(()=> $("status").textContent="", 1200);
}

/* Share link (URL params) */
function buildQuery(){
  const params = new URLSearchParams(); for(const k of fields){ const v=val(k); if(v) params.set(k,v); }
  return location.origin + location.pathname + "?" + params.toString();
}
function loadFromQuery(){
  const q = new URLSearchParams(location.search); if(!q.size) return;
  const o={}; for(const k of fields){ if(q.has(k)) o[k]=q.get(k); } setVals(o);
}

/* Buttons */
$("generate").addEventListener("click", generate);
$("surpriseBtn").addEventListener("click", surprise);
$("copy").addEventListener("click", async()=>{
  const txt = $("prompt").textContent.trim() || (generate(), $("prompt").textContent);
  await navigator.clipboard.writeText(txt); $("status").textContent="Copied!"; setTimeout(()=>$("status").textContent="",1000);
});
$("download").addEventListener("click", ()=>{
  const txt = $("prompt").textContent.trim() || (generate(), $("prompt").textContent);
  const blob = new Blob([txt],{type:"text/plain"}); const a=document.createElement("a");
  a.href=URL.createObjectURL(blob); a.download="chibi_prompt.txt"; a.click(); URL.revokeObjectURL(a.href);
});
$("share").addEventListener("click", async()=>{
  const url = buildQuery(); await navigator.clipboard.writeText(url);
  $("status").textContent="Share link copied"; setTimeout(()=>$("status").textContent="",1000);
});

/* Boot */
loadFromQuery(); loadState(); generate();
</script>
</body>
</html>
